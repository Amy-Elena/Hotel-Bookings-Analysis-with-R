---
title: "Hotel Bookings Analysis"
date: '2022-08-26'
output: github_document
---

### Content

Analysis of hotel data which contains booking information for a city hotel and a resort hotel, and includes information such as when the booking was made, length of stay, the number of adults, children, and/or babies, and the number of available parking spaces, among other things.

This data set contains a single file which compares various booking information between two hotels: a **city hotel** and a **resort hotel**.

```{r setup, include=FALSE} 
knitr::opts_chunk$set(warning = FALSE) 
```

**Load Packages**
```{r}
library(tidyverse)
```

**Import data**
```{r}
hotel_data <- read_csv("Data/hotel_bookings.csv")
```

**Data frame summaries**
```{r}
head(hotel_data)
```

```{r}
colnames(hotel_data)
```

```{r}
glimpse(hotel_data)
```

```{r}
str(hotel_data)
```


**Data cleaning**

* Check for nulls
```{r}
sum(is.na(hotel_data))
```

* View NA values
```{r}
hotel_data[rowSums(is.na(hotel_data)) > 0, ] 
```

* Fill in NA values with
```{r}
hotel_data[is.na(hotel_data)] = 0
```

* Check
```{r}
sum(is.na(hotel_data))
```

#### Descriptive Statistics

* Summary
```{r}
summary(hotel_data)
```

* Observations
```{r}
table(hotel_data$hotel)
```

* Mean 'days_in_waiting_list'
```{r}
hotel_data %>% summarise (mean(days_in_waiting_list))
```

* Max 'days in waiting list'
```{r}
hotel_data %>% summarise (max(days_in_waiting_list))
```

* Mean 'lead time'(days)
```{r}
hotel_data %>% summarise (mean(lead_time))
```

* Max 'lead time'(days)
```{r}
hotel_data %>% summarise (max(lead_time))
```

* Average Daily Rate(adr): City Hotel vs Resort Hotel
```{r}
hotel_data %>% group_by(hotel) %>% 
  summarise (mean(adr))
```

#### Data Visualization

* Year Comparison: City hotel vs Resort hotel
```{r}
hotel_data%>%
  ggplot(aes(x=arrival_date_year,fill=hotel))+
  geom_bar()
```

* Bookings by Month; City and Resort Hotel
```{r}
hotel_data %>%
  mutate(arrival_date_month = factor(arrival_date_month, #factor categorizes the data, stores as levels.
    levels = month.name
  )) %>%
  count(hotel, arrival_date_month,) %>%
  group_by(hotel) %>%
  mutate(proportion = n / sum(n)) %>%
  ggplot(aes(arrival_date_month, proportion,fill= arrival_date_month)) +
  geom_col(position = "dodge") +
  scale_y_continuous(labels = scales::percent_format())+
  facet_wrap(~hotel, nrow = 2)
```
